<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/client_layout}"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
</head>
<body>
<div layout:fragment="content">

  <!-- BREADCRUMB AREA START -->
  <div class="ltn__breadcrumb-area ltn__breadcrumb-area-2 ltn__breadcrumb-color-white bg-overlay-theme-black-90 bg-image"
       th:attr="data-bg=@{/client_assets/img/bg/9.jpg}">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="ltn__breadcrumb-inner ltn__breadcrumb-inner-2 justify-content-between">
            <div class="section-title-area ltn__section-title-2">
              <h6 class="section-subtitle ltn__secondary-color">//  Welcome to our company</h6>
              <h1 class="section-title white-color">Checkout</h1>
            </div>
            <div class="ltn__breadcrumb-list">
              <ul>
                <li><a href="/">Home</a></li>
                <li>Checkout</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- BREADCRUMB AREA END -->
  <div style="margin-top: 5px" th:if="${message}" class="alert alert-danger">
    Please choose one payment methods: cash on delivery, momo or paypal!
  </div>
  <!-- WISHLIST AREA START -->
  <form th:action="@{/cart/checkout}" method="post" class="ltn__checkout-area mb-105">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="ltn__checkout-inner">
            <div class="ltn__checkout-single-content mt-50">
              <h4 class="title-2">Billing Details</h4>
              <div class="ltn__checkout-single-content-info">
                <div action="#" >
                  <h6>Personal Information</h6>
                  <div th:object="${user}" class="row">
                    <div class="col-md-6">
                      <div class="input-item input-item-name ltn__custom-icon">
                        <input th:field="*{full_name}"  readonly type="text" name="ltn__name" placeholder="Full name">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="input-item input-item-name ltn__custom-icon">
                        <input th:field="*{username}" readonly type="text" name="ltn__lastname" placeholder="Username">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="input-item input-item-email ltn__custom-icon">
                        <input th:field="*{email}" readonly type="email" name="ltn__email" placeholder="email address">
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="input-item input-item-phone ltn__custom-icon">
                        <input th:field="*{phone}" readonly type="text" name="ltn__phone" placeholder="phone number">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-12 col-md-12">
                      <h6>Address</h6>
                      <div class="row">
                        <div class="col-md-6">
                          <div class="input-item">
                            <input required name="address" type="text" placeholder="House number and street name">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <h6>Order Notes (optional)</h6>
                  <div class="input-item input-item-textarea ltn__custom-icon">
                    <textarea name="note" placeholder="Notes about your order, e.g. special notes for delivery."></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="ltn__checkout-payment-method mt-50">
            <h4 class="title-2">Payment Method (Chosse one payment medthod!)</h4>
            <div id="checkout_accordion_1">
              <div class="card">
                <label style="font-weight: bold; font-size: 16px" class="ltn__card-title" data-bs-toggle="collapse" data-bs-target="#faq-item-2-2" aria-expanded="true">
                  Cash on delivery
                  <img th:src="@{/client_assets/img/icons/cash.png}" alt="#">
                  <input style="display:none;" type="checkbox" checked name="cash">
                </label>
                <div id="faq-item-2-2" class="collapse show" data-parent="#checkout_accordion_1">
                  <div class="card-body">
                    <p>Pay with cash upon delivery.</p>
                  </div>
                </div>
              </div>
              <div class="card">
                <label style="font-weight: bold; font-size: 16px" class="collapsed ltn__card-title" data-bs-toggle="collapse" data-bs-target="#faq-item-2-1" aria-expanded="false">
                  VNPAY
                  <img th:src="@{/client_assets/img/icons/vnpay.png}" alt="#">
                  <input style="display:none;" type="checkbox" name="vnPay">
                </label>
                <div id="faq-item-2-1" class="collapse" data-parent="#checkout_accordion_1">
                  <div class="card-body">
                    <p>VNPAY; You can pay with your credit card if you don’t have a VNPAY account.</p>
                  </div>
                </div>
              </div>
              <div class="card">
                <label style="font-weight: bold; font-size: 16px" class="collapsed ltn__card-title" data-bs-toggle="collapse" data-bs-target="#faq-item-2-4" aria-expanded="false" >
                  PayPal
                  <img th:src=" @{/client_assets/img/icons/payment-3.png}" alt="#">
                  <input style="display:none;" type="checkbox" name="paypal">
                </label>
                <div id="faq-item-2-4" class="collapse" data-parent="#checkout_accordion_1">
                  <div class="card-body">
                    <p>Pay via PayPal; you can pay with your credit card if you don’t have a PayPal account.</p>
                  </div>
                </div>
              </div>
              <div style="margin-top: 5px" th:if="${message}" class="alert alert-danger">
                Please choose one payment methods: cash on delivery, momo or paypal!
              </div>
            </div>
            <div class="ltn__payment-note mt-30 mb-30">
              <p>Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.</p>
            </div>
            <button class="btn theme-btn-1 btn-effect-1 text-uppercase" type="submit">Place order</button>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="shoping-cart-total mt-50">
            <h4 class="title-2">Cart Totals</h4>
            <table class="table">
              <tbody>
              <tr th:each="item : ${cart.cartItems}">
                <td><span th:text="${item.productName}"></span> <strong>× <span th:text="${item.quantity}"></span></strong></td>
                <td><span th:text="${#numbers.formatDecimal(item.price * item.quantity, 0, 'COMMA', 0, 'POINT')}"></span> VNĐ</td>
              </tr>
              <tr>
                <td><strong>Order Total</strong></td>
                <td><strong>
                  <span th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT')}"></span> VNĐ
                </strong></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </form>
  <!-- WISHLIST AREA START -->
  <script th:src="@{/webjars/jquery/3.6.4/jquery.min.js}"></script>
</div>
</body>
</html>